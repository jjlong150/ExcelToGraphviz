(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{609:function(s,e,t){s.exports=t.p+"assets/img/exampledata.f31fd91c.png"},610:function(s,e,t){s.exports=t.p+"assets/img/uc1.16296f2e.png"},611:function(s,e,t){s.exports=t.p+"assets/img/uc2.afaa4b9c.png"},612:function(s,e,t){s.exports=t.p+"assets/img/uc3.11f6ded4.png"},613:function(s,e,t){s.exports=t.p+"assets/img/uc4.17f60638.png"},614:function(s,e,t){s.exports=t.p+"assets/img/uc5.2752beda.png"},615:function(s,e,t){s.exports=t.p+"assets/img/uc6.39419c42.png"},828:function(s,e,t){"use strict";t.r(e);var a=t(14),n=Object(a.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"using-sql-trees"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#using-sql-trees"}},[s._v("#")]),s._v(" Using SQL - Trees")]),s._v(" "),e("h2",{attrs:{id:"introduction"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[s._v("#")]),s._v(" Introduction")]),s._v(" "),e("p",[e("em",[s._v("Relationship Visualizer")]),s._v(" Version 7.2 added support for recursive SQL queries, enabling the creation of hierarchies such as organization charts and connected data paths.")]),s._v(" "),e("p",[s._v("The candidate dataset should include the following key columns which define relationships, allowing hierarchical traversal.")]),s._v(" "),e("ul",[e("li",[s._v("A parent node.")]),s._v(" "),e("li",[s._v("A child node.")])]),s._v(" "),e("p",[s._v("A recursive query consists of 2 parts:")]),s._v(" "),e("ol",[e("li",[e("em",[s._v("Anchor the Base Case")]),s._v(": Define the starting point for recursion (e.g., the top-level parent in the hierarchy, like the CEO).")]),s._v(" "),e("li",[e("em",[s._v("Define the Recursive Member")]),s._v(": Specify how to recursively join results back to the table to construct subsequent levels.")])]),s._v(" "),e("p",[s._v("Four new keywords have been defined to enable recursive queries:")]),s._v(" "),e("ul",[e("li",[e("p",[e("code",[s._v("TREE QUERY")]),s._v(" - Passed as a literal string, the presence of "),e("code",[s._v("TREE QUERY")]),s._v(" in the SQL result set tells the SQL engine to execute the associated SQL recursively.")]),s._v(" "),e("p",[s._v("The SQL "),e("strong",[s._v("must")]),s._v(" contain the symbolic value "),e("code",[s._v("''{WHERE VALUE}''")]),s._v(" which will be replaced as each node is traversed with the value of the current node.")]),s._v(" "),e("p",[s._v("Note that since "),e("code",[s._v("TREE QUERY")]),s._v(" is passed as a literal string, any strings in the SQL which would normally be specified with "),e("code",[s._v("'")]),s._v(" delimiters must be escaped as "),e("code",[s._v("''")]),s._v(".")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("WHERE VALUE")]),s._v(" provides the value which anchors the base case. For example, in an organization chart it could be the ID of the CEO. For a subway line, it could be the starting subway station.")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("WHERE COLUMN")]),s._v(" - Specifies the name of the column which defines the recursive member. It is the name of the column containing the value which should be searched next. For example, in an organization chart it could be column name of the column containing the ID of the employee's manager.")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("MAX DEPTH")]),s._v(" - Specifies an "),e("strong",[s._v("optional")]),s._v(" integer value which specifies the maximum number of branches preceding, or following the node specified by "),e("code",[s._v("WHERE VALUE")]),s._v(". For example, "),e("code",[s._v("3 AS [MAX DEPTH]")]),s._v(" says to constrain the search to 3 edge ranks which follow a node ("),e("RouterLink",{attrs:{to:"/sql/trees/#use-case-3---forward-search-from-a-node-with-max-depth"}},[s._v("Use Case 3")]),s._v("), or 3 edge ranks which precede a node ("),e("RouterLink",{attrs:{to:"/sql/trees/#use-case-4---backward-search-from-a-node"}},[s._v("Use Case 4")]),s._v("), depending upon the direction of the search.")],1)])]),s._v(" "),e("h2",{attrs:{id:"scenario"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#scenario"}},[s._v("#")]),s._v(" Scenario")]),s._v(" "),e("p",[s._v("Assume you have an Excel workbook with a worksheet named "),e("code",[s._v("Routes")]),s._v(" containing 2 columns listing nodes in random order. The columns specify which node is the next node (i.e. "),e("code",[s._v("From Node")]),s._v(" -> "),e("code",[s._v("To Node")]),s._v(").")]),s._v(" "),e("p",[s._v("The data appears as:")]),s._v(" "),e("p",[e("img",{attrs:{src:t(609),alt:""}})]),s._v(" "),e("h2",{attrs:{id:"use-case-1-graph-everything"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#use-case-1-graph-everything"}},[s._v("#")]),s._v(" Use Case 1 - Graph Everything")]),s._v(" "),e("p",[s._v("The simplest way to graph this data is to use the following SQL query:")]),s._v(" "),e("div",{staticClass:"language-SQL line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("From")]),s._v(" Node"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ITEM"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("To")]),s._v(" Node"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("RELATED ITEM"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Routes$"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:t(610),alt:""}})]),s._v(" "),e("p",[s._v("The issue with this query is that it only displays the entire graph and cannot be used to extract a subset tree. Lets resolve the issue by using a Tree Query.")]),s._v(" "),e("h2",{attrs:{id:"use-case-2-forward-search-from-a-node"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#use-case-2-forward-search-from-a-node"}},[s._v("#")]),s._v(" Use Case 2 - Forward Search from a Node")]),s._v(" "),e("p",[s._v("This recursive query specifies a "),e("strong",[s._v("START")]),s._v(" node. It will show all the branches which flow from node "),e("code",[s._v("A0")]),s._v(".")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n  "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'SELECT [To Node], [From Node] AS [ITEM], [To Node] AS [RELATED ITEM]\n     FROM [Routes$] WHERE [From Node] = ''{WHERE VALUE}'''")]),s._v(" \n              "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("TREE QUERY"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'A0'")]),s._v("        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUE")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'To Node'")]),s._v("   "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLUMN")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[e("img",{attrs:{src:t(611),alt:""}})]),s._v(" "),e("p",[s._v("Notice that this graph looks very similar to the graph in Use Case 1, however nodes "),e("code",[s._v("A15")]),s._v(" and "),e("code",[s._v("A16")]),s._v(" are not present as there are no branches originating from node "),e("code",[s._v("A0")]),s._v(" which connect to "),e("code",[s._v("A15")]),s._v(" or "),e("code",[s._v("A16")]),s._v(".")]),s._v(" "),e("h2",{attrs:{id:"use-case-3-forward-search-from-a-node-with-max-depth"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#use-case-3-forward-search-from-a-node-with-max-depth"}},[s._v("#")]),s._v(" Use Case 3 - Forward Search from a Node, with Max Depth")]),s._v(" "),e("p",[s._v("This query specifies a "),e("strong",[s._v("START")]),s._v(" node. It will show "),e("strong",[s._v("up to 3 levels")]),s._v(" of branches which flow from node "),e("code",[s._v("A0")]),s._v(" (i.e. root node + 3 branches).")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n  "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'SELECT [To Node], [From Node] AS [ITEM], [To Node] AS [RELATED ITEM]\n     FROM [Routes$] WHERE [From Node] = ''{WHERE VALUE}'''")]),s._v(" \n              "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("TREE QUERY"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'A0'")]),s._v("        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUE")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'To Node'")]),s._v("   "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLUMN")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("           "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("MAX DEPTH"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[e("img",{attrs:{src:t(612),alt:""}})]),s._v(" "),e("p",[s._v("Notice that the tree stops after 3 levels of branches originating from node "),e("code",[s._v("A0")]),s._v(" have been recursed.")]),s._v(" "),e("h2",{attrs:{id:"use-case-4-backward-search-from-a-node"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#use-case-4-backward-search-from-a-node"}},[s._v("#")]),s._v(" Use Case 4 - Backward Search from a Node")]),s._v(" "),e("p",[s._v("This query specifies an "),e("strong",[s._v("END")]),s._v(" node. It will show "),e("strong",[s._v("all")]),s._v(" the branches which flow to node "),e("code",[s._v("A9")]),s._v(".")]),s._v(" "),e("p",[s._v("Notice that this query is changed from Use Case 3 to use "),e("code",[s._v("[To Node]")]),s._v(" in the base case portion of the query "),e("code",[s._v("WHERE [From Node] = ''{WHERE VALUE}''")]),s._v(" and set "),e("code",[s._v("From Node")]),s._v(" as the "),e("code",[s._v("WHERE COLUMN")]),s._v(" as the recursive member.")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n  "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'SELECT [From Node], [From Node] AS [ITEM], [To Node] AS [RELATED ITEM]\n     FROM [Routes$] WHERE [To Node] = ''{WHERE VALUE}'''")]),s._v(" \n              "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("TREE QUERY"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'A9'")]),s._v("        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUE")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'From Node'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLUMN")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[e("img",{attrs:{src:t(613),alt:""}})]),s._v(" "),e("p",[s._v("Notice in this Use Case the graph stops when node "),e("code",[s._v("A9")]),s._v(" is reached. In this example node "),e("code",[s._v("A16")]),s._v(" is present because it connects directly to node "),e("code",[s._v("A9")]),s._v(". Nodes "),e("code",[s._v("A6")]),s._v(", "),e("code",[s._v("A7")]),s._v(", and "),e("code",[s._v("A8")]),s._v(" are not present as those routes never connect to node "),e("code",[s._v("A9")]),s._v(".")]),s._v(" "),e("h2",{attrs:{id:"use-case-5-backward-search-from-a-node-with-max-depth"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#use-case-5-backward-search-from-a-node-with-max-depth"}},[s._v("#")]),s._v(" Use Case 5 - Backward Search from a Node, with Max Depth")]),s._v(" "),e("p",[s._v("This query specifies an "),e("strong",[s._v("END")]),s._v(" node, and the "),e("code",[s._v("[MAX DEPTH]")]),s._v(" parameter. It will show "),e("strong",[s._v("up to 3 levels")]),s._v(" of branches which precede and flow to node "),e("code",[s._v("A9")]),s._v(" (i.e. 3 branches + final node).")]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n  "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'SELECT [From Node], [From Node] AS [ITEM], [To Node] AS [RELATED ITEM]\n     FROM [Routes$] WHERE [To Node] = ''{WHERE VALUE}'''")]),s._v(" \n              "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("TREE QUERY"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'A9'")]),s._v("        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUE")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'From Node'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLUMN")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("           "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("MAX DEPTH"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[e("img",{attrs:{src:t(614),alt:""}})]),s._v(" "),e("p",[s._v("Notice in this Use Case that 3 levels of branches preceding node "),e("code",[s._v("A9")]),s._v(" are present. The connection between node "),e("code",[s._v("A1")]),s._v(" and "),e("code",[s._v("A4")]),s._v(" is not present because the "),e("code",[s._v("MAX DEPTH")]),s._v(" limit was reached with node "),e("code",[s._v("A1")]),s._v(", therefore "),e("code",[s._v("A1")]),s._v(" was not recursed to determine its connections.")]),s._v(" "),e("h2",{attrs:{id:"use-case-6-combining-queries-to-highlight-edges"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#use-case-6-combining-queries-to-highlight-edges"}},[s._v("#")]),s._v(" Use Case 6 - Combining Queries to Highlight Edges")]),s._v(" "),e("p",[s._v("This Use Case shows how you can highlight edges in a graph by recursing nodes and applying style attributes. It combines the examples above to show the entire graph. It then shows 3 levels of routes leading to node "),e("code",[s._v("A9")]),s._v(" in blue, and 3 levels of routes departing node "),e("code",[s._v("A9")]),s._v(" in red.")]),s._v(" "),e("p",[e("em",[s._v("Note: the "),e("code",[s._v("strict")]),s._v(" edge option on the "),e("code",[s._v("Graphviz")]),s._v(" ribbon tab is enabled to prevent duplicate edges from being drawn.")])]),s._v(" "),e("div",{staticClass:"language-sql line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- Step 1 - Get all the routes")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("From")]),s._v(" Node"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ITEM"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("To")]),s._v(" Node"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("RELATED ITEM"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Routes$"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- Step 2 - Recurse 3 branches of nodes which converge on node A9. ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- Change the edge color to blue")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n  "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'SELECT [From Node], [From Node] AS [ITEM], [To Node] AS [RELATED ITEM], \n     ''color=blue'' as [Attributes]\n     FROM [Routes$] WHERE [To Node] = ''{WHERE VALUE}'''")]),s._v(" \n              "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("TREE QUERY"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'A9'")]),s._v("        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUE")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'From Node'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLUMN")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("           "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("MAX DEPTH"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- Step 3 - Recurse 3 branches of nodes which branch out from node A9. ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- Change the edge color to red")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("SELECT")]),s._v(" \n  "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'SELECT [To Node], [From Node] AS [ITEM], [To Node] AS [RELATED ITEM], \n     ''color=red'' AS [Attributes]\n     FROM [Routes$] WHERE [From Node] = ''{WHERE VALUE}'''")]),s._v(" \n              "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("TREE QUERY"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'A9'")]),s._v("        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VALUE")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'To Node'")]),s._v("   "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("WHERE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLUMN")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" \n  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("           "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("AS")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("MAX DEPTH"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br")])]),e("p",[e("img",{attrs:{src:t(615),alt:""}})]),s._v(" "),e("h2",{attrs:{id:"sample-content"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sample-content"}},[s._v("#")]),s._v(" Sample Content")]),s._v(" "),e("p",[s._v("The files used in these examples are contained in the "),e("code",[s._v("\\Relationship Visualizer\\samples\\12 - Using SQL - Trees")]),s._v(" directory in the zip file download.")])])}),[],!1,null,null,null);e.default=n.exports}}]);